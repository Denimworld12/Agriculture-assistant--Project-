(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{3028:function(e,t,a){Promise.resolve().then(a.t.bind(a,2853,23)),Promise.resolve().then(a.bind(a,2480)),Promise.resolve().then(a.t.bind(a,2933,23)),Promise.resolve().then(a.bind(a,4520)),Promise.resolve().then(a.bind(a,7700))},3164:function(e,t,a){"use strict";a.d(t,{h:function(){return ButtonGroup},o:function(){return CustomButton}});var s=a(7437),n=a(2265);let CustomButton=e=>{let{onClick:t,type:a,className:o,title:l,languageBtn:i,isLargeBtn:r,isSmallBtn:d,iconBtn:c,roundedIconBtn:u,icon:h,children:v,blockBtn:m,btnWithLink:x,link:g,iconSize:f,isLeftIcon:p,isOutlineBtn:b,isGhostBtn:y,btnType:C,redBtn:w,yellowBtn:j,secondaryBtn:S,darkBtn:N,iconClass:k,disabled:I,isPill:L,isBadge:B,isReactIcon:_,whiteBtn:A,successBtn:z}=e;return(0,s.jsxs)("button",{type:a,disabled:I||!1,onClick:t,className:(y&&c&&v||c&&v&&_?" flex items-center ":"")+(r?"px-8 py-3 text-lg ":d?"px-2 py-2 text-sm ":"px-5 py-2 text-base ")+(u&&r?" rounded-full w-9 h-9 !px-0 !py-0 ":u&&d?" rounded-full w-5 h-5 !px-0 !py-0 ":u?" rounded-full w-7 h-7 !px-0 !py-0 ":" rounded ")+(L&&" rounded-full py-1 ")+(B?" leading-none ":" font-heading ")+(i&&"relative bg-transparent px-0 text-xs text-primary-900 z-0 transition ease-in-out leading-none focus:font-bold hover:bg-transparent active:font-bold before:hidden before:content-[''] before:bg-yellow-600 before:w-4/5 before:h-4/5 before:absolute before:-left-1 before:top-1 before:-z-1 hover:before:block active:before:block focus:before:block ")+(b?" border border-solid !bg-transparent ".concat(w||"redBtn"===C?" text-red-800 hover:text-red-900 border-red-800 hover:border-red-900 ":j||"yellowBtn"===C?" text-yellow-700 hover:text-yellow-600 border-yellow-700 hover:border-yellow-600 ":S||"secondaryBtn"===C?" text-linen border-linen hover:text-deep-earthy-brown hover:border-deep-earthy-brown ":z||"successBtn"===C?" text-teal-800 hover:text-teal-900 border-teal-800 hover:border-teal-900 ":N||"darkBtn"===C?" text-deep-earthy-brown hover:text-black border-deep-earthy-brown hover:border-black ":A||"whiteBtn"===C?" text-linen hover:text-white border-linen hover:border-white ":" border-primary-900 text-primary-900 hover:text-primary-800 hover:border-primary-800 "):y?" border-0 !bg-none bg-transparent !p-0 ".concat(w||"redBtn"===C?" text-red-800 hover:text-red-900 ":j||"yellowBtn"===C?" text-yellow-800 hover:text-yellow-600 ":S||"secondaryBtn"===C?" text-linen hover:text-deep-earthy-brown ":z||"successBtn"===C?" text-teal-800 hover:text-teal-900 ":N||"darkBtn"===C?" text-deep-earthy-brown hover:text-black ":A||"whiteBtn"===C?" text-linen hover:text-white ":"  !bg-none text-primary-900 hover:text-underline "):w||"redBtn"===C?" from-red-700 to-red-800 bg-gradient-to-tr text-white hover:from-red-800 hover:to-red-900":j||"yellowBtn"===C?" from-yellow-500 to-yellow-600 text-white hover:from-yellow-600 hover:to-yellow-700 bg-gradient-to-tr ":S||"secondaryBtn"===C?" bg-linen text-deep-earthy-brown hover:bg-khadi ":z||"successBtn"===C?" from-teal-700 to-teal-800 bg-gradient-to-tr text-white hover:from-teal-800 hover:to-teal-900 ":N||"darkBtn"===C?" bg-deep-earthy-brown text-white hover:bg-black ":A||"whiteBtn"===C?" bg-white border-solid border border-deep-earthy-brown text-deep-earthy-brown hover:border-black hover:shadow ":" bg-primary-900 text-white hover:bg-primary-800 ")+(m?" w-full block ":" ")+" transition ease-in-out font-medium leading-none ".concat(o||""," \n                ").concat(I&&"opacity-70 !cursor-not-allowed"," "),title:l||"",children:[p&&(u||c)&&(0,s.jsx)(s.Fragment,{children:n.createElement(h,{className:"mr-2  ".concat(k||" w-6 h-6 "),size:"".concat(f)})}),v,!p&&(u||c)&&(0,s.jsx)(s.Fragment,{children:n.createElement(h,{className:"ml-2  ".concat(k||" w-6 h-6 "),size:"".concat(f)})})]})},ButtonGroup=e=>{let{className:t,children:a,withGap:n,gap:o}=e;return(0,s.jsx)("div",{className:"flex\n            ".concat(n&&o?" gap-".concat(o," "):n&&!o?" gap-1 ":n?"":" buttonGroup ","\n            ").concat(t||""," "),children:a})}},8311:function(e,t,a){"use strict";a.d(t,{JX:function(){return Col},W2:function(){return Container},kC:function(){return Flex}});var s=a(7437);let Container=e=>{let{landingContainer:t,containerFluid:a,className:n,children:o}=e;return(0,s.jsx)("div",{className:(a?"container px-2 mx-auto ":t?"container lg:max-w-[82%] mx-auto px-4 lg:px-0 ":"container lg:max-w-4xl mx-auto px-4 lg:px-0 ")+" ".concat(n||""),children:o})},Flex=e=>{let{className:t,children:a,isFlexOnResponsive:n,space:o}=e;return(0,s.jsx)("div",{className:(n?" flex items-center ":" grid grid-cols-1 md:flex flex-wrap ")+(o?" gap-".concat(o," "):" gap-4 ")+" justify-between items-center ".concat(t||""),children:a})},Col=e=>{let{children:t,className:a,forwardRef:n}=e;return(0,s.jsx)("div",{className:"".concat(a||" flex-1 "),ref:n,children:t})}},4741:function(e,t,a){"use strict";a.r(t),a.d(t,{CustomImage:function(){return CustomImage}});var s=a(7437),n=a(2265),o=a(6691),l=a.n(o);let CustomImage=e=>{let{alt:t,title:a,src:o,className:i,style:r,height:d,width:c,layout:u,objectFit:h,fill:v,fallBackUrl:m}=e,[x,g]=(0,n.useState)(o);return(0,n.useEffect)(()=>{g(o)},[o]),(0,s.jsx)(l(),{className:"border-0 ".concat(i||""),src:x,alt:t,width:c,height:d,title:a,style:r||{},layout:u,fill:v,onError:()=>{g("/images/placeholder.png")},objectFit:h})}},1064:function(e,t,a){"use strict";var s=a(7437);a(2265),t.Z=e=>{let{className:t}=e;return(0,s.jsx)("div",{className:"rounded-full border-2 border-solid animate-spin border-t-2 border-t-secondary-900 border-linen h-6 w-6 ".concat(t||"")})}},8012:function(e,t,a){"use strict";a.d(t,{Z:function(){return modal_Modal}});var s=a(7437),n=a(2265),o=a(3164),l=a(8910),i=a(1064),hooks_usePreventScroll=e=>{(0,n.useEffect)(()=>{if(document){var t,a,s,n;e?null===(a=document)||void 0===a||null===(t=a.body)||void 0===t||t.classList.add("overflow-hidden"):null===(n=document)||void 0===n||null===(s=n.body)||void 0===s||s.classList.remove("overflow-hidden")}},[e])},modal_Modal=e=>{let{children:t,isOpen:a,handleCloseModal:r,onCancel:d=()=>{},onSubmit:c,title:u,icon:h,footerButtons:v,showCloseIcon:m,handleTopCloseIcon:x,hideSubmitBtn:g,hideCancelBtn:f,iconClass:p,submitBtnText:b,cancelBtnText:y,submitBtnType:C,cancelBtnType:w,submitBtnVariant:j,disableSubmitBtn:S,disableCancelBtn:N}=e,[k,I]=(0,n.useState)(!1),handleClose=()=>{var e,t;null===(t=document)||void 0===t||null===(e=t.body)||void 0===e||e.classList.remove("overflow-hidden"),r()};return hooks_usePreventScroll(a),(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:" h-screen w-screen bg-black/20 fixed top-0 left-0 z-[50] ".concat(a?"opacity-100 ":"opacity-0 hidden"," transform transition-all ease-in-out  "),children:(0,s.jsx)("div",{className:" flex flex-col items-center justify-center h-full",children:(0,s.jsxs)("div",{className:" relative bg-white  rounded-lg shadow w-[90%] md:w-auto md:max-w-[60%] lg:min-w-[30%] max-h-[80vh]  ",onClick:e=>e.stopPropagation(),children:[(u||m)&&(0,s.jsx)("div",{className:"absolute top-0 w-full",children:(0,s.jsxs)("div",{className:"px-6 py-4 bg-gray-50 flex flex-1 rounded-t-lg ".concat(u?"items-center justify-between":"items-center justify-end"," "),children:[u&&(0,s.jsx)("h2",{className:"  font-heading font-semibold",children:u}),m&&(0,s.jsx)(l.FU5,{size:20,className:"cursor-pointer",onClick:x})]})}),(0,s.jsxs)("div",{className:"h-full overflow-y-auto no-scrollbar",children:[(0,s.jsxs)("div",{className:"p-6 mt-6 text-center",children:[h?n.createElement(h,{className:"mx-auto w-10 h-10 mb-3  ".concat(p||" text-cyan-800  ")}):null,(0,s.jsx)("h3",{className:" font-normal text-gray-800 ",children:t})]}),(!f||!g)&&(0,s.jsx)("div",{className:"bg-gray-100 border-0  p-4 flex justify-center rounded-b-lg",children:v||(0,s.jsxs)(o.h,{withGap:!0,gap:"2",className:(g||f?" justify-center":" justify-between")+" w-full",children:[!f&&(0,s.jsx)(o.o,{disabled:N,whiteBtn:!0,type:w||"button",className:g?"flex-none":"flex-1",onClick:()=>{handleClose(),d()},children:y||"No"}),!g&&(0,s.jsxs)(o.o,{disabled:S,onClick:()=>{c()},type:C||"button",btnType:j,className:f?"flex-none":"flex-1",darkBtn:!0,children:[b||"Yes",k&&(0,s.jsx)(i.Z,{})]})]})})]})]})})})})}},2480:function(e,t,a){"use strict";a.r(t),a.d(t,{Layout:function(){return Layout},default:function(){return N},siteTitle:function(){return S}});var s=a(7437),n=a(2265),o=a(3164),Layout_Footer=()=>(0,s.jsx)("footer",{className:"block w-full  absolute bottom-0 relative before:absolute before:left-0 before:bg-transparent before:bottom-[100px] before:h-[100px] before:w-[50px] before:rounded-tl-3xl before:shadow-[0_0_0px_-50px_rgba(0,0,0,0.3)] before:shadow--primary-900 ",children:(0,s.jsxs)("div",{className:"mt-2 px-5 text-white text-xs text-center pb-3",children:[(0,s.jsxs)("span",{className:"block mb-1 text-xs text-gray-500 leading-none",children:["v-","1.0.12"]}),(0,s.jsxs)("span",{className:"block mb-1 text-xs text-gray-500 leading-none",children:["Copyright \xa9 ",new Date().getFullYear()," ",(0,s.jsx)("a",{href:"".concat("https://aistore.myscheme.in"),className:"text-gray-500 hover:underline py-1",children:"GovAI"})]})]})}),l=a(6820),i=a(8311),r=a(4741),d=a(4026),c=a(4033),u=a(4769);let Logo=e=>{let{big:t,withBorder:a,className:n,isWhiteLogo:o,appName:l,customLogo:h}=e;(0,c.usePathname)();let{state:v}=(0,d.j_)();return t?(0,s.jsxs)(i.kC,{isFlexOnResponsive:!0,className:(0,u.m6)("!justify-start items-end mb-6 w-full h-full !gap-2",n),children:[(0,s.jsx)("div",{className:"flex-none relative h-[2rem] max-w-[100px]",children:h?(0,s.jsx)(r.CustomImage,{src:h,alt:"MyScheme Chat",title:"MyScheme Chat",fill:!0,objectFit:"contain"}):(0,s.jsx)(r.CustomImage,{src:o?"/images/logo-white.svg":"/images/logo.svg",alt:"MyScheme Chat",title:"MyScheme Chat",objectFit:"contain",fill:!0})}),(0,s.jsx)("div",{className:"flex-none ",children:(0,s.jsx)("p",{className:"bg-secondary-200 text-sm text-secondary-medium px-2 py-1 font-medium font-heading leading-tight rounded",children:l||"Chat"})})]}):(0,s.jsxs)("div",{className:"flex  whitespace-nowrap mt-1 gap-2 ".concat("items-center"," ").concat(a&&" border-0 md:border-b border-solid border-linen  "),children:[(0,s.jsx)(s.Fragment,{children:h?(0,s.jsx)("div",{className:" relative overflow-hidden max-h-[35px] max-w-[100px] flex items-center justify-center",children:(0,s.jsx)(r.CustomImage,{src:h,className:" mx-auto my-auto object-contain",alt:"GovAI Chat",title:"GovAI Chat",layout:"responsive",width:128,height:32})}):(0,s.jsx)("div",{className:"relative overflow-hidden max-h-[35px] max-w-[100px] flex items-center justify-center ",children:(0,s.jsx)(r.CustomImage,{src:o?"/images/logo-white.svg":"/images/logo.svg",className:"mx-auto my-auto object-contain",alt:"GovAI Chat",title:"GovAI Chat",layout:"responsive",objectFit:"contain",width:128,height:32})})}),(0,s.jsxs)("div",{className:"flex flex-row justify-start items-start gap-1 line-clamp-1",children:[(0,s.jsx)("span",{className:"font-medium text-sm sm:text-base",children:l}),(0,s.jsx)("span",{className:"bg-secondary-200 text-xs text-secondary-medium px-1 py-1 font-medium font-heading rounded ",children:(null==v?void 0:v.assistant)?"Chat":"Store"})]})]})};var h=a(1396),v=a.n(h),m=a(8910),x=a(3498),g=a(7700),f=a(3159),p=a(8920),b=a(1421),chat_ChatHistoryList=e=>{var t;let{title:a,session:l}=e,[i,r]=(0,n.useState)(!1),[u,h]=(0,n.useState)(!1),[v,x]=(0,n.useState)(a),{actions:y}=(0,d.j_)({setSelectedChatSession:g.setSelectedChatSession,updateChatSession:g.updateChatSession}),{getChatSessionData:C,deleteChatSessionData:w,updateSessionTitle:j}=(0,b.Z)();(0,c.useRouter)();let{state:S}=(0,d.j_)(),handleDelete=async()=>{if(l&&S.assistant){var e;await w(null==l?void 0:l._id,null===(e=S.assistant)||void 0===e?void 0:e.domainId),r(!1)}},handleInputBlur=async()=>{u&&l&&(await j(null==l?void 0:l._id,v),h(!1))},handleOnClick=async()=>{if(l&&S.assistant){var e;await C(null==l?void 0:l._id,null===(e=S.assistant)||void 0===e?void 0:e.domainId)}};return(0,s.jsxs)("div",{className:"flex justify-between items-center px-2 md:px-5 hover:bg-gray-100 rounded-md py-2 ".concat(l._id===(null===(t=S.selectedChatSession)||void 0===t?void 0:t._id)?"bg-gray-100":""),children:[(0,s.jsx)("div",{className:"w-[90%]",children:u?(0,s.jsx)("input",{type:"text",value:v,onChange:e=>x(e.target.value),onBlur:handleInputBlur,onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),handleInputBlur())},autoFocus:!0,className:"px-2 py-1 text-sm"}):(0,s.jsx)("div",{title:v,className:"text-sm  line-clamp-1 cursor-pointer",onClick:handleOnClick,children:v})}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("button",{className:"menu-button",onClick:()=>{r(!i)},children:(0,s.jsx)(f.EAB,{})}),i&&(0,s.jsxs)("div",{className:"z-50 absolute right-0 mt-2 w-48  bg-gray-100 shadow-lg rounded px-2 py-2",children:[(0,s.jsx)(o.o,{isSmallBtn:!0,isGhostBtn:!0,isLeftIcon:!0,icon:p.vPQ,iconBtn:!0,className:"block w-full !py-2 hover:bg-gray-200",onClick:()=>{r(!1),h(!0)},children:"Rename"}),(0,s.jsx)(o.o,{isSmallBtn:!0,isGhostBtn:!0,isLeftIcon:!0,icon:m.ZkW,iconBtn:!0,className:"block w-full !py-2 hover:bg-gray-200",onClick:handleDelete,children:"Delete"})]})]})]})},y=a(6468);let MenuItem=e=>{let{icon:t,children:a,className:n=""}=e;return(0,s.jsxs)("div",{className:"flex fle-row items-center justify-start gap-2 hover:bg-gray-100 w-full px-2 md:px-5 rounded-md ".concat(n),children:[(0,s.jsx)("div",{className:"flex h-7 w-7 justify-center items-center rounded-full bg-black text-white",children:t}),a]})};var chat_ChatHistory=e=>{var t,a;let{state:n}=(0,d.j_)(),{actions:o}=(0,d.j_)({createChatSession:g.createChatSession}),l=(0,c.useRouter)(),{createNewChatSession:i}=(0,b.Z)();return(0,s.jsxs)("div",{className:"w-full",children:[(null==n?void 0:n.assistant)&&(null==n?void 0:n.savedChatSessions)&&(null==n?void 0:n.savedChatSessions.length)>0&&(0,s.jsx)(s.Fragment,{children:null==n?void 0:null===(t=n.savedChatSessions)||void 0===t?void 0:t.filter(e=>{var t;return e.domainId===(null==n?void 0:null===(t=n.assistant)||void 0===t?void 0:t.domainId)}).map((e,t)=>(0,s.jsx)(chat_ChatHistoryList,{title:null==e?void 0:e.title,session:e},t))}),(null==n?void 0:n.assistant)&&(null==n?void 0:null===(a=n.assistant)||void 0===a?void 0:a.saveHistory)&&(0,s.jsx)(MenuItem,{icon:(0,s.jsx)(y.xcL,{size:20}),className:"mt-4",children:(0,s.jsx)("span",{className:"text-sm cursor-pointer",onClick:()=>{var e,t,a,s,o;(null==n?void 0:null===(e=n.assistant)||void 0===e?void 0:e.domainId)&&((null==n?void 0:null===(t=n.assistant)||void 0===t?void 0:t.saveHistory)?(i({domainId:null==n?void 0:null===(a=n.assistant)||void 0===a?void 0:a.domainId}),l.push("/".concat(null==n?void 0:null===(s=n.assistant)||void 0===s?void 0:s.domainId))):l.push("/".concat(null==n?void 0:null===(o=n.assistant)||void 0===o?void 0:o.domainId)))},children:"New Conversation"})})]})};let Sidebar_MenuItem=e=>{let{icon:t,children:a}=e;return(0,s.jsxs)("div",{className:"flex fle-row items-center justify-start gap-2 hover:bg-gray-100 w-full px-2 md:px-5 rounded-md",children:[(0,s.jsx)("div",{className:"flex h-7 w-7 justify-center items-center rounded-full bg-black text-white",children:t}),a]})};function Sidebar(e){var t,a,n,i,r,c,u,h,g,f;let{handleNav:p,showNav:b,isMyScheme:y=!1}=e,{state:C}=(0,d.j_)(),{decodedToken:w,setShowLogoutConfirmation:j}=(0,x.aC)();return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("nav",{className:"left-0 border-r fixed overflow-x-hidden overflow-y-auto flex flex-col bg-gray-50 flex-nowrap items-center justify-start w-72 z-[14]   h-screen transform transition duration-300 ease-in  "+(b?" translate-x-0 ":" -translate-x-72 "),children:[(0,s.jsx)("div",{className:"hidden md:flex w-full rounded-br-3xl px-2 md:px-5 pt-1 md:pt-4 relative before:absolute before:left-0 before:bg-transparent before:-bottom-[100px] before:h-[100px] before:w-[50px] before:rounded-tl-3xl  ",children:(0,s.jsx)(Logo,{customLogo:y||(null==C?void 0:null===(a=C.assistant)||void 0===a?void 0:null===(t=a.displayName)||void 0===t?void 0:t.toLocaleLowerCase().includes("myscheme"))?"/images/myScheme-logo.svg":(null==C?void 0:null===(n=C.provider)||void 0===n?void 0:n.logoIcon)||(null==C?void 0:null===(i=C.assistant)||void 0===i?void 0:i.logo)&&"".concat("https://cdngovai.myscheme.in/").concat(null==C?void 0:null===(r=C.assistant)||void 0===r?void 0:r.logo)})}),(0,s.jsxs)("div",{className:"h-full w-full z-30 flex-1 overflow-y-auto flex justify-between flex-col",children:[(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("div",{className:"md:w-full md:hidden block",children:(0,s.jsxs)("div",{className:"flex justify-between flex-1 rounded-br-3xl px-2 pt-4 relative before:absolute before:left-0 before:bg-transparent before:-bottom-[100px] before:h-[100px] before:w-[50px] before:rounded-tl-3xl  ",children:[(0,s.jsx)(v(),{href:"/",onClick:p,children:(0,s.jsx)(Logo,{customLogo:y||(null==C?void 0:null===(u=C.assistant)||void 0===u?void 0:null===(c=u.displayName)||void 0===c?void 0:c.toLocaleLowerCase().includes("myscheme"))?"/images/myScheme-logo.svg":(null==C?void 0:null===(h=C.provider)||void 0===h?void 0:h.logoIcon)||(null==C?void 0:null===(g=C.assistant)||void 0===g?void 0:g.logo)&&"".concat("https://cdngovai.myscheme.in/").concat(null==C?void 0:null===(f=C.assistant)||void 0===f?void 0:f.logo)})}),(0,s.jsx)(o.o,{iconBtn:!0,isGhostBtn:!0,className:"!p-0",iconSize:"xl",icon:l.czh,whiteBtn:!0,iconClass:"text-right w-6 h-6 !ml-0 !text-gray-500",isReactIcon:!0,onClick:p})]})}),(0,s.jsxs)("div",{className:"flex flex-col items-start gap-4 mt-4",children:[(0,s.jsx)(Sidebar_MenuItem,{icon:(0,s.jsx)(m.JZ9,{size:15}),children:(0,s.jsx)(v(),{href:"/",className:"text-sm",onClick:p,children:"Explore Assistants"})}),(0,s.jsx)(chat_ChatHistory,{})]})]}),(0,s.jsx)("div",{className:"flex flex-col gap-4 mb-4",children:w&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(Sidebar_MenuItem,{icon:(0,s.jsx)(m.J8I,{size:15}),children:(0,s.jsx)("span",{className:"text-sm line-clamp-1",title:null==w?void 0:w.name,children:null==w?void 0:w.name})}),(0,s.jsx)(Sidebar_MenuItem,{icon:(0,s.jsx)(m.lE7,{size:15}),children:(0,s.jsx)("span",{className:"text-sm cursor-pointer",onClick:()=>j(!0),children:"Logout"})})]})})]}),(0,s.jsx)(Layout_Footer,{})]})})}var C=a(311),w=a(9736),closeActionComponent=(e,t,a)=>{if(e)return window.addEventListener("mousedown",handleClick),()=>window.removeEventListener("mousedown",handleClick);function handleClick(e){a.current&&!a.current.contains(e.target)&&t(!1)}},j=a(8012);function Navbar(e){var t,a,r,u,h,v,f,p,b,y;let{bgColor:C,pageName:S,showNav:N,handleNav:k,isMyScheme:I=!1}=e;(0,c.useRouter)();let{login:L,loginStatus:B,logout:_,decodedToken:A,setShowLogoutConfirmation:z,showLogoutConfirmation:P}=(0,x.aC)(),[E,D]=(0,n.useState)(!1),{state:F}=(0,d.j_)(),{actions:G}=(0,d.j_)({createChatSession:g.createChatSession}),M=(0,c.useSearchParams)(),Z=(0,n.useRef)(null);return(0,n.useEffect)(()=>{closeActionComponent(E,D,Z)},[E,D,Z]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(j.Z,{isOpen:P,iconClass:"text-red-600",icon:m.lE7,cancelBtnText:"Cancel",submitBtnText:"Logout",handleCloseModal:()=>z(!1),onSubmit:()=>{_(),z(!1)},children:(0,s.jsx)("p",{className:"",children:"Are you sure you want to sign out?"})}),(0,s.jsx)(i.kC,{isFlexOnResponsive:!0,className:"!justify-start bg-white !items-start w-full py-3 mb-2 ".concat((null==M?void 0:M.get("isEmbed"))?"px-2 ":"px-2 md:px-0"," sticky top-0 shadow-sm z-10"),children:(0,s.jsxs)("div",{className:"w-full md:max-w-3xl mx-auto flex flex-row justify-between",children:[(0,s.jsxs)(i.JX,{className:"flex justify-start items-center",children:[!(null==M?void 0:M.get("isEmbed"))&&(0,s.jsx)(o.o,{iconBtn:!0,isGhostBtn:!0,iconSize:"xl",className:"md:hidden flex-none text-left mr-1 ",icon:l.HjU,iconClass:"text-right w-6 h-6 !m-0",isReactIcon:!0,onClick:k}),N?(0,s.jsx)("div",{className:"mt-2",children:(0,s.jsx)(w.Z,{customLogo:I||(null==F?void 0:null===(a=F.assistant)||void 0===a?void 0:null===(t=a.displayName)||void 0===t?void 0:t.toLocaleLowerCase().includes("myscheme"))?"/images/myscheme-favicon.png":(null==F?void 0:null===(r=F.provider)||void 0===r?void 0:r.logoIcon)||(null==F?void 0:null===(u=F.assistant)||void 0===u?void 0:u.icon)&&"".concat("https://cdngovai.myscheme.in/").concat(null==F?void 0:null===(h=F.assistant)||void 0===h?void 0:h.icon)})}):(0,s.jsx)("div",{className:"flex flex-1 md:flex-none",children:(0,s.jsx)(Logo,{customLogo:I||(null==F?void 0:null===(f=F.assistant)||void 0===f?void 0:null===(v=f.displayName)||void 0===v?void 0:v.toLocaleLowerCase().includes("myscheme"))?"/images/myScheme-logo.svg":(null==F?void 0:null===(p=F.provider)||void 0===p?void 0:p.logoIcon)||(null==F?void 0:null===(b=F.assistant)||void 0===b?void 0:b.logo)&&"".concat("https://cdngovai.myscheme.in/").concat(null==F?void 0:null===(y=F.assistant)||void 0===y?void 0:y.logo)})})]}),!1]})})]})}let S="myScheme",Layout=e=>{let{children:t,pageName:a,breadCrumbRoutes:l,isMyScheme:i=!1}=e,[r,d]=(0,n.useState)(!1),[u,h]=(0,n.useState)({path:"dashboard",name:"Dashboard"}),[v,m]=(0,n.useState)(!1);(0,c.usePathname)();let handleNav=()=>{d(!r)},x=(0,c.useSearchParams)(),g=r?"  after:bg-black md:after:bg-transparent after:opacity-50 after:absolute after:top-0 after:left-0 after:w-full after:h-full after:z-[12] md:after:-z-[12] z-30":null;return(0,s.jsxs)("div",{className:"".concat(g),children:[(0,s.jsx)(Sidebar,{showNav:r,setShowNav:d,handleNav:handleNav,selectedTab:u,setSelectedTab:h,isLoading:v,setIsLoading:m,isMyScheme:i}),(0,s.jsxs)("div",{className:"flex flex-col relative h-screen duration-300 animate-fadeIn transition-all ease-in-out "+(r?" m-0 md:ml-72  ":" m-0 "),children:[!(null==x?void 0:x.get("isEmbed"))&&(0,s.jsx)("div",{className:"hidden md:block fixed top-1/2 -translate-y-1/2 ".concat(r?" md:z-10 ":"z-10"),children:(0,s.jsx)(o.o,{iconBtn:!0,isGhostBtn:!0,iconSize:"xl",className:"!p-0",icon:r?C.Lrt:C.h2L,iconClass:"w-6 h-6 !m-0",isReactIcon:!0,onClick:handleNav,title:r?"Close Sidebar ":"Open Sidebar"})}),(0,s.jsx)(Navbar,{showNav:r,handleNav:handleNav,isMyScheme:i}),(0,s.jsx)("div",{className:"relative px-2 sm:px-4 flex-1 max-h-[95vh] md:max-h-[95vh]",children:(0,s.jsx)("main",{className:"w-full h-full",children:t})})]})]})};var N=Layout},9736:function(e,t,a){"use strict";a.d(t,{Z:function(){return Layout_LogoIcon}});var s=a(7437),n=a(8311),o=a(4741);let CustomLink=e=>{let{isExternal:t,target:a,link:n,children:o,className:l,isNavLink:i,textTransform:r,onClick:d}=e;return(0,s.jsx)("a",{target:t?"_blank":a||"_self",className:(i&&" min-w-min px-2 text-blue-800 tracking-wide font-normal text-base hover:text-red-900 ")+" ".concat(l||" block "," ").concat("uppercase"===r?" uppercase ":"capitalize"===r?" capitalize ":"  "),href:n,rel:"noopener noreferrer",onClick:d||null,children:o})};var Layout_LogoIcon=e=>{let{big:t,customLogo:a}=e;return t?(0,s.jsx)(n.kC,{isFlexOnResponsive:!0,className:"!justify-center mb-6 w-full h-full !gap-1",children:(0,s.jsx)("div",{className:"flex-none relative",children:(0,s.jsx)(o.CustomImage,{src:a||"/images/logoIcon.svg",alt:"GovAI Logo",title:"GovAI Logo",width:141,height:100})})}):(0,s.jsx)("div",{className:"block",children:(0,s.jsx)(CustomLink,{className:"block relative h-[2.5rem] w-[2.5rem]",link:"/",children:(0,s.jsx)(o.CustomImage,{src:a||"/images/logoIcon.svg",layout:"fill",objectFit:"contain",alt:"GovAI Logo",title:"GovAI Logo"})})})}},3498:function(e,t,a){"use strict";a.d(t,{Vo:function(){return n},aC:function(){return useAuth}});var s=a(2265);let n=(0,s.createContext)({token:null,decodedToken:null,getSession:async()=>null,user:null,setUser:()=>{},loginStatus:"loading",setLoginStatus:()=>{},logout:()=>{},login:()=>{},showLogoutConfirmation:!1,setShowLogoutConfirmation:()=>{}});function useAuth(){return(0,s.useContext)(n)}},1421:function(e,t,a){"use strict";var s=a(3498),n=a(2173),o=a(4026),l=a(2265),i=a(7700),r=a(4033),d=a(7350),c=a(3014);t.Z=()=>{let[e,t]=(0,l.useState)(!1),{token:a,loginStatus:u}=(0,s.aC)(),{state:h}=(0,o.j_)(),{actions:v}=(0,o.j_)({createChatSession:i.createChatSession,saveChatSessions:i.saveChatSessions,setSelectedChatSession:i.setSelectedChatSession,deleteChatSession:i.deleteChatSession,updateChatSession:i.updateChatSession}),m=(0,r.useRouter)(),x=(0,r.useSearchParams)(),generateChatSessionID=async e=>{var s,o;let{domainId:l,title:i="Untitled"}=e;t(!0);let r=await n.Z.post("".concat("https://api.myscheme.gov.in/studio/v1/chat-history"),{domainId:l,title:i,messages:[]},{headers:{"x-api-key":"ICdhCnhQ4b8mnlvs2J4JV7BKdqQXL9cG62Xsc6UD",Authorization:"Bearer ".concat(a)}});if(200!==r.status||(null===(s=r.data)||void 0===s?void 0:s.statusCode)!==200)return t(!1),{sessionId:null,error:r};{let e=null==r?void 0:null===(o=r.data)||void 0===o?void 0:o.data;return t(!1),v.createChatSession({domainId:null==e?void 0:e.domainId,_id:null==e?void 0:e._id}),{sessionId:null==e?void 0:e._id,error:null}}},createNewChatSession=async e=>{let{domainId:t,title:a="Untitled"}=e;if("loggedIn"===u){let e=await generateChatSessionID({domainId:t,title:a});await getSavedChats({domainId:t}),(null==e?void 0:e.sessionId)?x.get("isEmbed")?m.push("/".concat(t,"?sessionId=").concat(null==e?void 0:e.sessionId,"&isEmbed=true")):m.push("/".concat(t,"?sessionId=").concat(null==e?void 0:e.sessionId)):(0,c.Am)("Something went wrong! Please try again later",{theme:"dark"})}else{let e=(0,d.x0)();v.createChatSession({domainId:t,_id:e})}},getSavedChats=async e=>{let{currentPage:t=1,limit:s=10,domainId:o}=e,l=encodeURIComponent(JSON.stringify({domainId:o}));return await n.Z.get("".concat("https://api.myscheme.gov.in/studio/v1/chat-history","?page=").concat(t,"&limit=").concat(s,"&filters=").concat(l),{headers:{"x-api-key":"ICdhCnhQ4b8mnlvs2J4JV7BKdqQXL9cG62Xsc6UD",Authorization:"Bearer ".concat(a)}}).then(e=>{var t,a,s,n,o;(null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.statusCode)===200&&(null==e?void 0:null===(s=e.data)||void 0===s?void 0:null===(a=s.data)||void 0===a?void 0:a.results)&&v.saveChatSessions(null===(o=e.data)||void 0===o?void 0:null===(n=o.data)||void 0===n?void 0:n.results.map(e=>({...e,messages:[]})))}).catch(e=>{(0,c.Am)("Something went wrong! Please try again later",{theme:"dark"})})},getChatSessionData=async(e,t)=>{if(!a){var s;let a=null==h?void 0:null===(s=h.savedChatSessions)||void 0===s?void 0:s.find(t=>(null==t?void 0:t._id)===e);return v.setSelectedChatSession(a),m.push("/".concat(t))}return n.Z.get("".concat("https://api.myscheme.gov.in/studio/v1/chat-history","/").concat(e),{headers:{"x-api-key":"ICdhCnhQ4b8mnlvs2J4JV7BKdqQXL9cG62Xsc6UD",Authorization:"Bearer ".concat(a)}}).then(e=>{var t,a,s,n,o;(null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.statusCode)===200&&(null==e?void 0:null===(a=e.data)||void 0===a?void 0:a.data)&&(v.setSelectedChatSession(null==e?void 0:null===(s=e.data)||void 0===s?void 0:s.data),m.push("/".concat(null==e?void 0:null===(o=e.data)||void 0===o?void 0:null===(n=o.data)||void 0===n?void 0:n.domainId)))}).catch(e=>{(0,c.Am)("Something went wrong! Please try again later",{theme:"dark"})})},deleteChatSessionData=async(e,t)=>{var s,o;let l=(null===(s=h.savedChatSessions)||void 0===s?void 0:s.filter(t=>t._id!==e))||[];return a?n.Z.delete("".concat("https://api.myscheme.gov.in/studio/v1/chat-history","/").concat(e),{headers:{"x-api-key":"ICdhCnhQ4b8mnlvs2J4JV7BKdqQXL9cG62Xsc6UD",Authorization:"Bearer ".concat(a)}}).then(async a=>{var s,n,o;(null==a?void 0:null===(s=a.data)||void 0===s?void 0:s.statusCode)===200&&(null==a?void 0:null===(n=a.data)||void 0===n?void 0:n.data)&&(v.deleteChatSession(e),(null==l?void 0:l.length)>0?await getChatSessionData(null===(o=l[0])||void 0===o?void 0:o._id,t):m.push("/"))}).catch(e=>{(0,c.Am)("Something went wrong! Please try again later",{theme:"dark"})}):(v.deleteChatSession(e),(null==l?void 0:l.length)>0)?await getChatSessionData(null===(o=l[0])||void 0===o?void 0:o._id,t):m.push("/")},addNewMessages=async(e,t)=>n.Z.patch("".concat("https://api.myscheme.gov.in/studio/v1/chat-history","/").concat(e),{messages:t},{headers:{"x-api-key":"ICdhCnhQ4b8mnlvs2J4JV7BKdqQXL9cG62Xsc6UD",Authorization:"Bearer ".concat(a)}}).then(t=>{var a,s,n;(null==t?void 0:null===(a=t.data)||void 0===a?void 0:a.statusCode)===200&&(null==t?void 0:null===(s=t.data)||void 0===s?void 0:s.data)&&v.updateChatSession({id:e,messages:null===(n=t.data.data)||void 0===n?void 0:n.messages})}).catch(e=>{(0,c.Am)("Something went wrong! Please try again later",{theme:"dark"})}),updateChatSessionMessages=async(e,t)=>{var a;if(!Array.isArray(t))throw Error("Messages should be an array");let s=(null===(a=h.selectedChatSession)||void 0===a?void 0:a.messages)||[],n=t.filter(e=>!s.some(t=>t.content===e.content&&t.role===e.role)),o=n.map(t=>addNewMessages(e,{content:t.content,role:t.role}));try{let e=await Promise.all(o);return e}catch(e){throw(0,c.Am)("Something went wrong with one or more updates! Please try again later",{theme:"dark"}),e}},updateSessionTitle=async(e,t)=>a?n.Z.patch("".concat("https://api.myscheme.gov.in/studio/v1/chat-history","/").concat(e),{title:t},{headers:{"x-api-key":"ICdhCnhQ4b8mnlvs2J4JV7BKdqQXL9cG62Xsc6UD",Authorization:"Bearer ".concat(a)}}).then(t=>{var a,s,n;(null==t?void 0:null===(a=t.data)||void 0===a?void 0:a.statusCode)===200&&(null==t?void 0:null===(s=t.data)||void 0===s?void 0:s.data)&&v.updateChatSession({id:e,title:null===(n=t.data.data)||void 0===n?void 0:n.title})}).catch(e=>{(0,c.Am)("Something went wrong! Please try again later",{theme:"dark"})}):v.updateChatSession({id:e,title:t});return{loading:e,createNewChatSession,getSavedChats,getChatSessionData,deleteChatSessionData,updateChatSessionMessages,updateSessionTitle}}},4520:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return AuthProvider}});var s=a(7437),n=a(2265),o=a(3498),l=a(2173),i=a(4033),r=a(3771);function AuthProvider(e){let{children:t,refreshTime:a=1e4}=e,[d,c]=(0,n.useState)(null),[u,h]=(0,n.useState)(null),[v,m]=(0,n.useState)(null),[x,g]=(0,n.useState)("loading"),[f,p]=(0,n.useState)(!1),b=(0,i.useRouter)(),y=(0,i.usePathname)(),getUserData=async()=>{v||g("loading");try{var e,t,a;let s=await l.Z.get("".concat("https://api.myscheme.gov.in/accounts/v1","/users/profile"),{headers:{Authorization:"Bearer ".concat(d),"x-api-key":"tYTy5eEhlu9rFjyxuCr7ra7ACp4dv1RH8gWuHTDc"}});(null===(e=s.data)||void 0===e?void 0:e.statusCode)===200?m(s.data.data):((null===(t=s.data)||void 0===t?void 0:t.statusCode)===401||(null===(a=s.data)||void 0===a?void 0:a.statusCode)===403)&&(g("loggedOut"),m(null),logout())}catch(e){g("loggedOut"),m(null)}},getToken=async()=>{try{var e;let t=await l.Z.get("".concat("https://aistore.myscheme.in","/api/auth/digilocker/session"));if(null===(e=t.data)||void 0===e?void 0:e.token)return c(t.data.token),h((0,r.o)(t.data.token)),g("loggedIn"),t.data.token;return c(null),m(null),h(null),g("loggedOut"),null}catch(e){return h(null),g("loggedOut"),c(null),null}},logout=()=>{b.push("/api/auth/digilocker/signout")},login=async e=>{let t="https://aistore.myscheme.in"+y,a="".concat("https://aistore.myscheme.in").concat(e);b.replace("/api/auth/digilocker/signin?callback=".concat(e?a:t))};return(0,n.useEffect)(()=>{let initialize=async()=>{await getToken()};initialize()},[]),(0,n.useEffect)(()=>{d&&getUserData()},[d]),(0,n.useEffect)(()=>{d&&getToken()},[y,d]),(0,s.jsx)(o.Vo.Provider,{value:{token:d,getSession:getToken,decodedToken:u,user:v,setUser:m,loginStatus:x,setLoginStatus:g,logout:logout,login:login,showLogoutConfirmation:f,setShowLogoutConfirmation:p},children:t})}},7700:function(e,t,a){"use strict";a.r(t),a.d(t,{createChatSession:function(){return createChatSession},deleteChatSession:function(){return deleteChatSession},saveChatSessions:function(){return saveChatSessions},setSelectedChatSession:function(){return setSelectedChatSession},store:function(){return l},updateAssistant:function(){return updateAssistant},updateChatSession:function(){return updateChatSession},updateProvider:function(){return updateProvider}});var s=a(7437),n=a(4026),o=a(7350);let l={provider:null,assistant:null,savedChatSessions:null,selectedChatSession:null};(0,n.MT)(l);let updateProvider=(e,t)=>({...e,provider:t}),updateAssistant=(e,t)=>({...e,assistant:t}),setSelectedChatSession=(e,t)=>({...e,selectedChatSession:t}),createChatSession=(e,t)=>{let a={domainId:t.domainId,_id:(null==t?void 0:t._id)||(0,o.x0)(),title:t.title||"Untitled",messages:t.messages||[]},s=null==e?void 0:e.savedChatSessions;return s?s.push(a):s=[a],{...e,savedChatSessions:s,selectedChatSession:a}},deleteChatSession=(e,t)=>{var a;return{...e,savedChatSessions:null==e?void 0:null===(a=e.savedChatSessions)||void 0===a?void 0:a.filter(e=>e._id!==t)}},updateChatSession=(e,t)=>{var a,s,n,o;let l=null===(a=e.savedChatSessions)||void 0===a?void 0:a.findIndex(e=>e._id===t.id);if(void 0!==l&&-1!==l&&e.savedChatSessions){let a=[...e.savedChatSessions],i={_id:t.id,domainId:null===(s=a[l])||void 0===s?void 0:s.domainId,title:(null==t?void 0:t.title)||(null===(n=a[l])||void 0===n?void 0:n.title),messages:t.messages||(null===(o=a[l])||void 0===o?void 0:o.messages)};return a[l]=i,{...e,savedChatSessions:a,selectedChatSession:i}}return{...e}},saveChatSessions=(e,t)=>({...e,savedChatSessions:t});t.default=e=>{let{children:t}=e;return(0,s.jsx)(n.hc,{children:t})}},2853:function(){}},function(e){e.O(0,[420,582,190,787,115,603,173,396,922,674,971,472,744],function(){return e(e.s=3028)}),_N_E=e.O()}]);